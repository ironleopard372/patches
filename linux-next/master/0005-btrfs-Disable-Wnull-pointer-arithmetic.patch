From a86f37bc1edb084a9c3a306da7cea7b1805d9e76 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Sun, 31 Jan 2021 18:43:58 -0700
Subject: [PATCH 05/12] btrfs: Disable -Wnull-pointer-arithmetic

Link: https://github.com/ClangBuiltLinux/linux/issues/1285
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 fs/btrfs/Makefile | 1 +
 1 file changed, 1 insertion(+)

diff --git a/fs/btrfs/Makefile b/fs/btrfs/Makefile
index cec88a66bd6c..abe706d87c43 100644
--- a/fs/btrfs/Makefile
+++ b/fs/btrfs/Makefile
@@ -17,6 +17,7 @@ subdir-ccflags-y += $(condflags)
 subdir-ccflags-y += -Wno-missing-field-initializers
 subdir-ccflags-y += -Wno-sign-compare
 subdir-ccflags-y += -Wno-type-limits
+subdir-ccflags-y += $(call cc-disable-warning, null-pointer-arithmetic)
 
 obj-$(CONFIG_BTRFS_FS) := btrfs.o
 
-- 
2.31.0

