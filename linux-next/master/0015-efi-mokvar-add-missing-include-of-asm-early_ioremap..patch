From bbfe8999387a6485644884469a7ccc88c70a8730 Mon Sep 17 00:00:00 2001
From: Ard Biesheuvel <ardb@kernel.org>
Date: Fri, 2 Oct 2020 10:01:23 +0200
Subject: [PATCH 15/15] efi: mokvar: add missing include of asm/early_ioremap.h

Nathan reports that building the new mokvar table code for 32-bit
ARM fails with errors such as

  error: implicit declaration of function 'early_memunmap'
  error: implicit declaration of function 'early_memremap'

This is caused by the lack of an explicit #include of the appropriate
header, and ARM apparently does not inherit that inclusion via another
header file. So add the #include.

Tested-by: Nathan Chancellor <natechancellor@gmail.com>
Signed-off-by: Ard Biesheuvel <ardb@kernel.org>
Link: https://git.kernel.org/tip/cc383a9e245c527d3175e2cf4cced9dbbedbbac6
Signed-off-by: Nathan Chancellor <natechancellor@gmail.com>
---
 drivers/firmware/efi/mokvar-table.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/firmware/efi/mokvar-table.c b/drivers/firmware/efi/mokvar-table.c
index 72a9e1736fef..d8bc01340686 100644
--- a/drivers/firmware/efi/mokvar-table.c
+++ b/drivers/firmware/efi/mokvar-table.c
@@ -40,6 +40,8 @@
 #include <linux/list.h>
 #include <linux/slab.h>
 
+#include <asm/early_ioremap.h>
+
 /*
  * The LINUX_EFI_MOK_VARIABLE_TABLE_GUID config table is a packed
  * sequence of struct efi_mokvar_table_entry, one for each named
-- 
2.29.0.rc0

