From ba60d75666e8b06ea967e1f7f60475c99e686af1 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Wed, 10 Feb 2021 13:38:05 -0700
Subject: [PATCH 16/16] Revert "kbuild: Add resolve_btfids clean to root clean
 target"

This reverts commit 50d3a3f81689586697a38cd60070181ebe626ad9.

Link: https://lore.kernel.org/bpf/20210210174451.GA1943051@ubuntu-m3-large-x86/
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 Makefile | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

diff --git a/Makefile b/Makefile
index 5b1c9d497df4..b2e07c376f1b 100644
--- a/Makefile
+++ b/Makefile
@@ -1095,11 +1095,6 @@ ifdef CONFIG_STACK_VALIDATION
   endif
 endif
 
-PHONY += resolve_btfids_clean
-
-resolve_btfids_clean:
-	$(Q)$(MAKE) -sC $(srctree)/tools/bpf/resolve_btfids O=$(abspath $(objtree))/tools/bpf/resolve_btfids clean
-
 ifdef CONFIG_BPF
 ifdef CONFIG_DEBUG_INFO_BTF
   ifeq ($(has_libelf),1)
@@ -1514,7 +1509,7 @@ vmlinuxclean:
 	$(Q)$(CONFIG_SHELL) $(srctree)/scripts/link-vmlinux.sh clean
 	$(Q)$(if $(ARCH_POSTLINK), $(MAKE) -f $(ARCH_POSTLINK) clean)
 
-clean: archclean vmlinuxclean resolve_btfids_clean
+clean: archclean vmlinuxclean
 
 # mrproper - Delete all generated files, including .config
 #
-- 
2.30.1

