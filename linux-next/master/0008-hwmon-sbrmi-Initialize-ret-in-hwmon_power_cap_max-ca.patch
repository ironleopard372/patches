From 8cb4629e8c73f367e08fa651a879ec6a19a63916 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Mon, 2 Aug 2021 10:53:52 -0700
Subject: [PATCH 08/24] hwmon (sbrmi): Initialize ret in hwmon_power_cap_max
 case in sbrmi_read()

Link: https://lore.kernel.org/r/986da3fe-bae4-9532-c732-86731ac9a9e0@roeck-us.net/
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 drivers/hwmon/sbrmi.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/hwmon/sbrmi.c b/drivers/hwmon/sbrmi.c
index 372b099c04a0..7bf0c3fba75f 100644
--- a/drivers/hwmon/sbrmi.c
+++ b/drivers/hwmon/sbrmi.c
@@ -210,6 +210,7 @@ static int sbrmi_read(struct device *dev, enum hwmon_sensor_types type,
 		break;
 	case hwmon_power_cap_max:
 		msg.data_out = data->pwr_limit_max;
+		ret = 0;
 		break;
 	default:
 		return -EINVAL;
-- 
2.32.0.264.g75ae10bc75

