From 4e998545a7c5e8e8ac8612c65e0110ccb78131cf Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Fri, 19 Feb 2021 18:57:57 -0700
Subject: [PATCH 9/9] gfp.h: Apply Matthew Wilcox's fix

Link: https://lore.kernel.org/mm-commits/20210220003049.GZ2858050@casper.infradead.org/
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 include/linux/gfp.h | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/include/linux/gfp.h b/include/linux/gfp.h
index ecd1b5d27936..8572a1474e16 100644
--- a/include/linux/gfp.h
+++ b/include/linux/gfp.h
@@ -8,16 +8,19 @@
 #include <linux/linkage.h>
 #include <linux/topology.h>
 
+/* The typedef is in types.h but we want the documentation here */
+#if 0
 /**
  * typedef gfp_t - Memory allocation flags.
  *
  * GFP flags are commonly used throughout Linux to indicate how memory
- * should be allocated.  The GFP acronym stands for "get free pages",
+ * should be allocated.  The GFP acronym stands for get_free_pages(),
  * the underlying memory allocation function.  Not every GFP flag is
  * supported by every function which may allocate memory.  Most users
  * will want to use a plain ``GFP_KERNEL``.
  */
-typedef unsigned int __bitwise gfp_t;	// repeated here for kernel-doc
+typedef unsigned int __bitwise gfp_t;
+#endif
 
 struct vm_area_struct;
 
-- 
2.30.1

