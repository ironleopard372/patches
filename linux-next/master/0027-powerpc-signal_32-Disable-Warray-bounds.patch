From 331b298e316850313b4091a9f235a16b1ed411b2 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Thu, 2 Sep 2021 16:11:44 -0700
Subject: [PATCH 27/27] powerpc/signal_32: Disable -Warray-bounds

Link: https://github.com/ClangBuiltLinux/linux/issues/1445
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 arch/powerpc/kernel/Makefile | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/powerpc/kernel/Makefile b/arch/powerpc/kernel/Makefile
index 7be36c1e1db6..4f5beff09d6f 100644
--- a/arch/powerpc/kernel/Makefile
+++ b/arch/powerpc/kernel/Makefile
@@ -48,6 +48,8 @@ obj-y				:= cputable.o syscalls.o \
 				   of_platform.o prom_parse.o firmware.o \
 				   hw_breakpoint_constraints.o interrupt.o \
 				   kdebugfs.o
+# False positive: https://bugs.llvm.org/show_bug.cgi?id=51682
+CFLAGS_signal_32.o := $(call cc-disable-warning, array-bounds)
 obj-y				+= ptrace/
 obj-$(CONFIG_PPC64)		+= setup_64.o \
 				   paca.o nvram_64.o note.o
-- 
2.33.0

