From a16c9ea3494cc276db5f8b4c7e32b2f32b653ece Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Sat, 14 Aug 2021 18:28:20 -0700
Subject: [PATCH 19/19] kbuild: Enable -Wbool-operation for clang

Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 Makefile | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/Makefile b/Makefile
index 43e27dbe38f6..314a3fc087d8 100644
--- a/Makefile
+++ b/Makefile
@@ -797,6 +797,8 @@ KBUILD_CFLAGS += -Wno-gnu
 # source of a reference will be _MergedGlobals and not on of the whitelisted names.
 # See modpost pattern 2
 KBUILD_CFLAGS += -mno-global-merge
+# GCC enables this with -Wall, clang does not
+KBUILD_CFLAGS += -Wbool-operation
 endif
 
 # These warnings generated too much noise in a regular build.
-- 
2.33.0.rc2

