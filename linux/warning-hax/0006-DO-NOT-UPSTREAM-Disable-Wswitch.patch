From 646d7c0c0ad50f5bf5af3191c7744c63b0d70b88 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <natechancellor@gmail.com>
Date: Wed, 3 Oct 2018 14:31:35 -0700
Subject: [PATCH 06/15] DO-NOT-UPSTREAM: Disable -Wswitch

These warnings are related to use of the _IOC macro to define certain
values for switch statements which then overflow because the type is int
when it really should be unsigned int. There will need to be some
discussion about how to solve that in the scsi subsystem and until that
happens, this is just noise.

Link: https://github.com/ClangBuiltLinux/linux/issues?q=label:-Wswitch
Signed-off-by: Nathan Chancellor <natechancellor@gmail.com>
---
 Makefile | 1 +
 1 file changed, 1 insertion(+)

diff --git a/Makefile b/Makefile
index 6a9d446fb68a..222e8a1b214f 100644
--- a/Makefile
+++ b/Makefile
@@ -709,6 +709,7 @@ KBUILD_CFLAGS += $(call cc-disable-warning, gnu)
 KBUILD_CFLAGS += $(call cc-disable-warning, address-of-packed-member)
 # Quiet clang warning: comparison of unsigned expression < 0 is always false
 KBUILD_CFLAGS += $(call cc-disable-warning, tautological-compare)
+KBUILD_CFLAGS += $(call cc-disable-warning, switch)
 # CLANG uses a _MergedGlobals as optimization, but this breaks modpost, as the
 # source of a reference will be _MergedGlobals and not on of the whitelisted names.
 # See modpost pattern 2
-- 
2.19.1

