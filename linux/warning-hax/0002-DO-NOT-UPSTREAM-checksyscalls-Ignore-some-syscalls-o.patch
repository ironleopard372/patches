From a182c6de50a4a12dc69f2d546aeb3e4437471add Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <natechancellor@gmail.com>
Date: Sun, 14 Oct 2018 13:43:59 -0700
Subject: [PATCH 02/10] DO-NOT-UPSTREAM: checksyscalls: Ignore some syscalls on
 arm{,64}

So that I can compile with -Werror.

Signed-off-by: Nathan Chancellor <natechancellor@gmail.com>
---
 scripts/checksyscalls.sh | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

diff --git a/scripts/checksyscalls.sh b/scripts/checksyscalls.sh
index a18b47695f55..4e2f3bc620d6 100755
--- a/scripts/checksyscalls.sh
+++ b/scripts/checksyscalls.sh
@@ -249,6 +249,26 @@ cat << EOF
 #define __IGNORE_getpmsg
 #define __IGNORE_putpmsg
 #define __IGNORE_vserver
+
+/* arm{,64} whitelist */
+#if defined(CONFIG_ARM) || defined(CONFIG_ARM64)
+#define __IGNORE_fsconfig
+#define __IGNORE_fsinfo
+#define __IGNORE_fsmount
+#define __IGNORE_fsopen
+#define __IGNORE_fspick
+#define __IGNORE_move_mount
+#define __IGNORE_open_tree
+#endif
+#if defined(CONFIG_ARM) || defined(CONFIG_ARM64) || defined(CONFIG_PPC32) || defined(CONFIG_PPC64)
+#define __IGNORE_pidfd_send_signal
+#define __IGNORE_pidctl
+#endif
+#if defined(CONFIG_ARM) || defined(CONFIG_PPC32) || defined(CONFIG_PPC64)
+#define __IGNORE_io_uring_setup
+#define __IGNORE_io_uring_enter
+#define __IGNORE_io_uring_register
+#endif
 EOF
 }
 
-- 
2.21.0

